replicaCount: 1

image:
  repository: hapiproject/hapi
  tag: "latest"
  pullPolicy: IfNotPresent

service:
  type: ClusterIP
  port: 8080

resources:
  requests:
    cpu: 250m
    memory: 1Gi
  limits:
    cpu: "1"
    memory: 2Gi

env:
  HAPI_FHIR_DEFAULT_ENCODING: json
  HAPI_FHIR_FHIR_VERSION: R4
  HAPI_FHIR_ALLOW_EXTERNAL_REFERENCES: "true"
  HAPI_FHIR_ENABLE_REPOSITORY_VALIDATING_INTERCEPTOR: "false"
  HAPI_FHIR_CORS_ALLOW_CREDENTIALS: "true"
  HAPI_FHIR_CORS_ALLOWED_ORIGIN: "*"

database:
  host: ""
  port: "5432"
  name: hapi
  username: hapi
  password: ""

persistence:
  enabled: true
  size: 10Gi
  storageClass: ""

probes:
  readiness:
    path: /fhir/metadata
    port: 8080
    initialDelaySeconds: 60
    periodSeconds: 30
  liveness:
    path: /fhir/metadata
    port: 8080
    initialDelaySeconds: 90
    periodSeconds: 30

hpa:
  enabled: true
  minReplicas: 1
  maxReplicas: 5
  targetCPU: 80

serviceMonitor:
  enabled: false
  path: /metrics
  interval: 30s
